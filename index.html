
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snake Simple</title>
<style>
  body { background: #000; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; color: white; font-family: sans-serif; }
  canvas { background: #111; display: block; margin: auto; touch-action: none; }
  button { margin: 5px; padding: 10px; font-size: 16px; }
</style>
</head>
<body>
<h1>Snake</h1>
<canvas id="game" width="300" height="300"></canvas>
<div>
  <button onclick="dir='LEFT'">⬅️</button>
  <button onclick="dir='UP'">⬆️</button>
  <button onclick="dir='DOWN'">⬇️</button>
  <button onclick="dir='RIGHT'">➡️</button>
</div>
<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const box = 15;
let snake = [{x: 5*box, y: 5*box}];
let food = {x: Math.floor(Math.random()*20)*box, y: Math.floor(Math.random()*20)*box};
let dir;
document.addEventListener("keydown", e => {
    if(e.keyCode==37 && dir!='RIGHT') dir='LEFT';
    else if(e.keyCode==38 && dir!='DOWN') dir='UP';
    else if(e.keyCode==39 && dir!='LEFT') dir='RIGHT';
    else if(e.keyCode==40 && dir!='UP') dir='DOWN';
});
function draw() {
    ctx.fillStyle = "#111";
    ctx.fillRect(0,0,300,300);
    for(let i=0;i<snake.length;i++){
        ctx.fillStyle = i==0 ? "lime" : "green";
        ctx.fillRect(snake[i].x,snake[i].y,box,box);
    }
    ctx.fillStyle = "red";
    ctx.fillRect(food.x,food.y,box,box);
    let headX = snake[0].x;
    let headY = snake[0].y;
    if(dir=='LEFT') headX -= box;
    if(dir=='UP') headY -= box;
    if(dir=='RIGHT') headX += box;
    if(dir=='DOWN') headY += box;
    if(headX==food.x && headY==food.y){
        food = {x: Math.floor(Math.random()*20)*box, y: Math.floor(Math.random()*20)*box};
    } else {
        snake.pop();
    }
    let newHead = {x: headX, y: headY};
    if(headX<0 || headY<0 || headX>=300 || headY>=300 || collision(newHead,snake)){
        clearInterval(game);
        alert("Game Over");
    }
    snake.unshift(newHead);
}
function collision(head, array){
    for(let i=0;i<array.length;i++){
        if(head.x==array[i].x && head.y==array[i].y) return true;
    }
    return false;
}
let game = setInterval(draw,100);
</script>
</body>
</html>
